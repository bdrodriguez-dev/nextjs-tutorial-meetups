{"ast":null,"code":"import { MongoClient } from \"mongodb\";\nimport { connectToMongoDBAndRunQuery } from \"../../utils/helpers\"; // .../api/new-meetup\n\nconst handler = async (req, res) => {\n  if (req.method === \"POST\") {\n    const data = req.body; // const { title, description, image, address } = data;\n\n    let result;\n\n    try {\n      const result = await connectToMongoDBAndRunQuery(collection => {\n        return collection.insertOne(data);\n      });\n      console.log(result);\n    } catch (e) {\n      console.log(e);\n    }\n\n    res.status(201).json({\n      message: \"Meetup created successfully\",\n      result: result\n    });\n  }\n};\n\nexport default handler;","map":{"version":3,"sources":["/Users/braulio-rodriguez/Documents/Development/tutorial-projects/nextjs-course/react-meetups/pages/api/new-meetup.js"],"names":["MongoClient","connectToMongoDBAndRunQuery","handler","req","res","method","data","body","result","collection","insertOne","console","log","e","status","json","message"],"mappings":"AAAA,SAASA,WAAT,QAA4B,SAA5B;AACA,SAASC,2BAAT,QAA4C,qBAA5C,C,CACA;;AAEA,MAAMC,OAAO,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAClC,MAAID,GAAG,CAACE,MAAJ,KAAe,MAAnB,EAA2B;AACzB,UAAMC,IAAI,GAAGH,GAAG,CAACI,IAAjB,CADyB,CAEzB;;AAEA,QAAIC,MAAJ;;AACA,QAAI;AACF,YAAMA,MAAM,GAAG,MAAMP,2BAA2B,CAAEQ,UAAD,IAAgB;AAC/D,eAAOA,UAAU,CAACC,SAAX,CAAqBJ,IAArB,CAAP;AACD,OAF+C,CAAhD;AAIAK,MAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AACD,KAND,CAME,OAAOK,CAAP,EAAU;AACVF,MAAAA,OAAO,CAACC,GAAR,CAAYC,CAAZ;AACD;;AACDT,IAAAA,GAAG,CACAU,MADH,CACU,GADV,EAEGC,IAFH,CAEQ;AAAEC,MAAAA,OAAO,EAAE,6BAAX;AAA0CR,MAAAA,MAAM,EAAEA;AAAlD,KAFR;AAGD;AACF,CAnBD;;AAqBA,eAAeN,OAAf","sourcesContent":["import { MongoClient } from \"mongodb\";\nimport { connectToMongoDBAndRunQuery } from \"../../utils/helpers\";\n// .../api/new-meetup\n\nconst handler = async (req, res) => {\n  if (req.method === \"POST\") {\n    const data = req.body;\n    // const { title, description, image, address } = data;\n\n    let result;\n    try {\n      const result = await connectToMongoDBAndRunQuery((collection) => {\n        return collection.insertOne(data);\n      });\n\n      console.log(result);\n    } catch (e) {\n      console.log(e);\n    }\n    res\n      .status(201)\n      .json({ message: \"Meetup created successfully\", result: result });\n  }\n};\n\nexport default handler;\n"]},"metadata":{},"sourceType":"module"}